<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TRIAL-FORMA: SMT-based Patient‚ÄìTrial Matching</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="TRIAL-FORMA: An SMT-based system for precise, clause-level patient‚Äìtrial eligibility matching."
  />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="page">
    <header>
        <div class="header-flex">
          <!-- Logo -->
          <img src="forma_wide.png" alt="TrialFORMA Logo" class="header-logo" />
      
          <!-- Title block -->
          <div class="header-titles">
            <h1>
              FORMA:<br>
              Formal Reasoning and Modelling Agent
            </h1>
            <h2>An Application to Clinical Trials</h2>
          </div>
        </div>
      
        <div class="authors">
          <span>Cyrus Zhou</span>,
          <span>Yufei Jin</span>,
          <span>Yilin Xu</span>,
          <span>Chieh-Ju Chao</span>,
          <span>Monica S Lam</span>
        </div>
      
        <div class="affiliation">
          Stanford-OVAL
        </div>
      
        <div class="pill-row">
          <a href="https://arxiv.org/abs/xxxx.xxxxx" target="_blank" rel="noreferrer">
            üìÑ Paper (arXiv)
          </a>
          <a href="https://trialforma.com" target="_blank" rel="noreferrer">
            üåê Project Page
          </a>
          <a href="#bibtex">
            üìö BibTeX
          </a>
        </div>
      
        <div class="pill-tag">Project Website ¬∑ Last updated: Nov 2025</div>
    </header>
      
    <section id="news" class="news-section">
        <h3>News & Updates</h3>
      
        <ul class="news-list">
            <li class="news-item">
                <span class="news-date">December 10, 2025</span>
                <span class="news-title">Poster Presentation at Stanford AI+HEALTH 2025</span>
                <span class="news-desc">Present TrialFORMA at
                    <a href="https://medhub.stanford.edu/event/aihealth2025/summary" target="_blank" rel="noreferrer">
                        Stanford AI+HEALTH 2025
                      </a>
                    poster session.
                    </span>
            </li>
        
            <li class="news-item">
                <span class="news-date">December 2025</span>
                <span class="news-title">Public Website Launch</span>
                <span class="news-desc">TrialFORMA project website is now live at trialforma.com.</span>
            </li>
        
            <li class="news-item">
                <span class="news-date">November 2025</span>
                <span class="news-title">Evaluating the system</span>
                <span class="news-desc">Preliminary benchmarks show high recall and transparent eligibility reasoning.</span>
            </li>
      
        </ul>
      </section>

    <section class="teaser">
      <!-- Replace with your own image -->
      <img src="teaser.png" alt="System overview or key result figure" />
      <div class="teaser-caption">
        Figure 1: High-level overview of TRIAL-FORMA. Clinical trial
        eligibility criteria and patient notes are mapped to a shared
        SMT-based logical representation, enabling clause-level, exact
        reasoning instead of approximate embedding-based matching.
      </div>
    </section>

    <section id="abstract">
      <h3>Abstract</h3>

    <p>
        Effective patient-trial matching lies at the heart of clinical research. Despite spending approximately $1.9 billion annually on recruitment, nearly 80% of clinical trials still fail to meet their enrollment targets. Errors in patient-trial matching are high-stakes on both recall and precision: false negatives deny patients from potentially life-saving options, while false positives steer patients toward infeasible or unsafe trials. Yet current pipelines leveraging embedding-based retrieval are optimized to minimize aggregate retrieval loss rather than eliminate mismatches for each patient-trial pair, making them structurally ill-suited to this safety-critical task.
    </p>
    <p>
        We present TrialFORMA (FOmal Reasoning and Modeling Agent), a system for patient‚Äìtrial matching that grounds patient records and eligibility criteria in a shared formal SMT (Satisfiability Modulo Theories) representation. Unlike recent approaches that merely minimize error rates, TrialFORMA is designed around an exactness objective, aiming‚Äîwithin its formal representation‚Äîto eliminate both false negatives and false positives.
    </p>
    <p>
        Attempting to represent both patient records and trial eligibility criteria in SMT confronts us with several challenges: (1) imperfect semantic parsing from natural language into SMT predicates; (2) substantial variation in concept names and surface expressions across trials and patient records; and (3) incomplete clinical ontologies that omit relevant concepts and relations. 
    </p>
    <p>
        To address these challenges, we develop a family of agentic workflows that (1) semantically parse natural language into SMT; (2) perform concept canonicalization and expression schematization; and (3) bridge missing links in the underlying clinical ontologies.
    </p>
    <p>
        Preliminary experiments on standard patient‚Äìtrial matching benchmarks show that TrialFORMA achieves near-perfect recall at high precision, while providing clause-level auditability of eligibility decisions. These results establish symbolic, logic-based matching as an accurate and transparent foundation for high-stake clinical eligibility workflows.
    </p>
    </section>

    <section id="method">
      <h3>Method</h3>
      <p>
        TRIAL-FORMA consists of three main components:
      </p>
      <ol>
        <li>
          <strong>Trial Canonicalization:</strong> Natural-language inclusion
          and exclusion criteria are mapped to canonical predicates (e.g.,
          disease, age, lab values, geographic constraints) with explicit
          time windows.
        </li>
        <li>
          <strong>Patient Fact Extraction:</strong> Clinical notes are parsed
          into structured facts, such as diagnoses, procedures, medications,
          and temporal attributes, represented as logical atoms.
        </li>
        <li>
          <strong>SMT Compilation and Solving:</strong> Both trial criteria
          and patient facts are compiled into SMT-LIB. Eligibility is decided
          by checking satisfiability of the conjunction of trial constraints
          with patient facts.
        </li>
      </ol>
      <p>
        This design allows us to answer queries such as: ‚ÄúDoes there exist a
        consistent assignment of patient attributes that satisfies all
        mandatory criteria?‚Äù and to generate minimal unsatisfiable cores that
        explain why a given patient is ineligible.
      </p>
    </section>

    <section id="results">
      <h3>Results</h3>
      <div class="columns">
        <div>
          <p>
            We evaluate TRIAL-FORMA on a held-out set of patient‚Äìtrial pairs
            with expert labels. Our system improves strict eligibility
            classification compared to a strong embedding-based baseline
            while providing interpretable reasoning traces.
          </p>
          <table class="result-table">
            <thead>
              <tr>
                <th>Method</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Embedding-based Retrieval</td>
                <td>0.78</td>
                <td>0.81</td>
                <td>0.73</td>
              </tr>
              <tr>
                <td><strong>TRIAL-FORMA (ours)</strong></td>
                <td><strong>0.88</strong></td>
                <td><strong>0.90</strong></td>
                <td><strong>0.86</strong></td>
              </tr>
            </tbody>
          </table>
          <p>
            Beyond aggregate metrics, TRIAL-FORMA also produces
            <span class="badge">explanations</span> that highlight which
            specific criteria are satisfied or violated, supporting human-in-the-loop oversight.
          </p>
        </div>
        <div>
          <p><strong>Demo Highlights</strong></p>
          <ul>
            <li>Interactive inspection of satisfied / violated constraints</li>
            <li>Support for temporal reasoning (time windows, durations)</li>
            <li>Modular trial and patient representation for debugging</li>
          </ul>
          <p>
            A live demo (with synthetic data) and more detailed examples will
            be made available at:
            <span class="inline-code">https://trialforma.com/demo</span>.
          </p>
        </div>
      </div>
    </section>

    <section id="resources">
      <h3>Resources</h3>
      <p>
        <strong>Paper:</strong>
        <a href="https://arxiv.org/abs/xxxx.xxxxx" target="_blank" rel="noreferrer">
          arXiv:xxxx.xxxxx
        </a>
      </p>
      <p>
        <strong>Dataset / Benchmark (if applicable):</strong>
        <a href="https://zenodo.org/record/xxxxxxx" target="_blank" rel="noreferrer">
          Download benchmark
        </a>
      </p>
      <p>
        <strong>Contact:</strong> your.email@institution.edu
      </p>
    </section>

    <section id="bibtex">
      <h3>BibTeX</h3>
      <pre><code>@software{forma_clinical_trial_matching,
        title = {FORMA: Formal Reasoning and Modelling Agent},
        subtitle = {An Application to Clinical Trials},
        author = {Cyrus Zhou, Yufei Jin, Yilin Xu, Chieh-Ju Chao, Monica S Lam},
        year = {2025},
        url = {https://github.com/stanford-oval/trial-forma}
      }</code></pre>
    </section>

    <footer>
      ¬© 2025 TRIAL-FORMA. This project page is built with GitHub Pages.
    </footer>
  </main>
</body>
</html>
